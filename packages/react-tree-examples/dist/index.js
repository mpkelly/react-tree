/*! For license information please see index.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./dist",n(n.s="./src/Index.tsx")}({"../react-tree/dist/index.js":function(module,exports,__webpack_require__){eval('!function(e,t){if(true)module.exports=t(__webpack_require__(/*! react */ "react"));else { var n, r; }}(window,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="./dist",r(r.s=7)}([function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedNodeIds=t.toSubList=t.toList=t.findTreeNodeById=t.toTreeNodes=t.toTreeNode=t.toFlatNodes=t.toFlatNode=void 0,t.toFlatNode=(e,t)=>{const{children:r}=e,o=n(e,["children"]);return Object.assign(Object.assign({},o),{parentId:t})},t.toFlatNodes=(e,r)=>{let n=[];return e.forEach(e=>{n.push(t.toFlatNode(e,r)),n=n.concat(t.toFlatNodes(e.children,e.id))}),n},t.toTreeNode=e=>Object.assign(Object.assign({},e),{children:[]}),t.toTreeNodes=e=>{const r=Object.create(null);e.forEach(e=>{r[e.id]=t.toTreeNode(e)});const n=[];return e.forEach(e=>{void 0!==e.parentId&&r[e.parentId]?r[e.parentId].children.push(r[e.id]):n.push(r[e.id])}),n},t.findTreeNodeById=(e,r,n=null)=>{for(const o of r){if(o.id===e)return{node:o,parent:n};const r=t.findTreeNodeById(e,o.children,o);if(r)return r}return null},t.toList=(e,r=[])=>(e.forEach(e=>{r.push(t.toFlatNode(e,e.parentId)),e.children.forEach(e=>{r.push(t.toFlatNode(e,e.parentId)),t.toList(e.children,r)})}),r),t.toSubList=(e,r)=>{const n=t.toList(e);let o=n.length,i=0;return r.forEach(e=>{const t=n.findIndex(t=>t.id===e);t>=i&&(i=t),t<=o&&(o=t)}),n.slice(o,i+1)},t.getSelectedNodeIds=(e,r)=>{const n=t.toSubList(e,r).filter(e=>r.includes(e.id));return t.toTreeNodes(n).map(e=>e.id)}},function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=t.useTree=t.TreeContext=void 0;const d=i(r(1)),s=r(3),c=r(4),a=r(9),l=r(0),u=r(10),f=r(5);t.TreeContext=d.createContext(void 0),t.useTree=()=>d.useContext(t.TreeContext),t.Tree=e=>{const{nodes:r,renderElement:n,onChange:o,onPaste:i,sortFunction:p,disableDrag:b,schema:g,disableSelection:v,disableMultiSelection:h,disableCut:O,disableCopy:y,renderDragImage:j}=e,m=l.toTreeNodes(r),[_,T]=d.useState(),[S,D]=d.useState();p&&s.sortTree(m,p);const{selection:x,handleClick:I,setSelection:E}=a.useSelectionState(m,v,h),N=[...x.selected,_],P=e=>{o&&o([e],"expanded",!e.expanded)};u.useKeyboard(m,x,E,()=>{const e=x.selected[0];if(void 0!==e)if(x.cut.length){if(!o)return;const t=r.filter(e=>x.cut.includes(e.id));f.isMoveValid(r,t.map(e=>e.id),e,g)&&o(t,"parentId",e)}else{if(!i)return;const t=r.filter(e=>x.copied.includes(e.id));f.isMoveValid(r,t.map(e=>e.id),e,g)&&i(t,e)}},P,!!O,!!y);const w=d.useCallback((e,t=0)=>{const r=[];return e.forEach(e=>{const o=n(e,t);let i=[];(void 0===e.expanded||e.expanded)&&(i=w(e.children,t+1));const s={};e.id===S&&S!==e.parentId&&(s["data-rt-drop-valid"]=!0),r.push(d.default.createElement("div",Object.assign({"data-rt-element-wrapper":e.id},s),d.default.createElement(c.TreeElement,{node:e,depth:t},o),i))}),r},[S,n]),M=w(m),C={overId:S,handleDrag:T,handleOver:e=>{f.isMoveValid(r,N,e,g)?D(e):D(void 0)},handleDrop:(e,t)=>{if(void 0!==t){const n=r.find(t=>String(t.id)===String(e));if(n&&String(n.parentId)!==String(t)&&o){const e=l.getSelectedNodeIds(m,[...x.selected,_]).map(e=>r.find(t=>t.id===e));o(e,"parentId",t)}}D(void 0),T(void 0)},handleToggleCollapse:P,disableDrag:!!b,selection:x,setSelection:E,handleClick:I,renderDragImage:j,dragId:_};return d.default.createElement(t.TreeContext.Provider,{value:C},d.default.createElement("div",{"data-rt-tree":!0},M))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortTree=t.createAlphaNumericSort=void 0,t.createAlphaNumericSort=e=>(t,r)=>String(t[e]).localeCompare(String(r[e])),t.sortTree=(e,r)=>{e.sort(r),e.forEach(e=>t.sortTree(e.children,r))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeElement=void 0;const o=n(r(1)),i=r(8);t.TreeElement=e=>{const{node:t,children:r,dragDisabled:n}=e,{id:d}=t,s=i.useTreeElementState(e),c=!(t.dragDisabled||n);return o.default.createElement("div",Object.assign({key:d,draggable:c},s),r)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMoveValid=void 0;const n=r(6),o=r(0);t.isMoveValid=(e,t,r,i)=>{if(void 0===r)return!1;for(const d of t){if(d===r)return!1;const t=e.find(e=>e.id===d);if(t){if(t.dragDisabled)return!1;if(t.parentId===r)return!1;const s=e.find(e=>e.id===r);if(s){const c=o.findTreeNodeById(d,o.toTreeNodes(e));if(c&&c.node){if(o.toFlatNodes(c.node.children).find(e=>e.id===r))return!1}if(!n.isDropAllowed(t,s,i))return!1}}}return!0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDropAllowed=void 0,t.isDropAllowed=(e,t,r)=>{if(!r)return!0;const n=r.rules?r.rules[t.type]:void 0;return(!n||0!==n.length)&&(!(n&&!n.includes(e.type))&&(!r.isDropAllowed||r.isDropAllowed(e,t)))}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3),t),o(r(0),t),o(r(2),t),o(r(5),t),o(r(4),t),o(r(6),t),o(r(11),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTreeElementState=void 0;const n=r(2);t.useTreeElementState=e=>{const{node:t,depth:r,dragDisabled:o}=e,{overId:i,dragId:d,handleDrag:s,handleOver:c,handleDrop:a,disableDrag:l,selection:u,handleClick:f,renderDragImage:p}=n.useTree(),b=u.selected.includes(t.id),g=u.cut.includes(t.id),v=u.copied.includes(t.id),h=u.selected.slice();void 0===d||u.selected.includes(d)||h.push(d);const O={"data-rt-element":t.id,"data-rt-type":t.type,"data-rt-depth":r,draggable:!o,onClick:e=>{f(e,t.id)}};return b&&(O["data-rt-selected"]=!0),g&&(O["data-rt-cut"]=!0),v&&(O["data-rt-copied"]=!0),l?{}:(o||t.dragDisabled||(O.onDragStart=e=>{e.dataTransfer.setData("text/rt-id",String(t.id)),e.dataTransfer.dropEffect="move",p&&e.dataTransfer.setDragImage(p(h),0,0),s(t.id)}),O.onDragOver=e=>{c(t.id),e.preventDefault(),e.dataTransfer.dropEffect="move"},O.onDragLeave=()=>{c(void 0)},O.onDrop=e=>{if(e.preventDefault(),void 0!==i&&i===t.id){const r=e.dataTransfer.getData("text/rt-id");a(r,t.id)}},O)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSelectionState=void 0;const n=r(1),o=r(0);t.useSelectionState=(e,t,r,i=[])=>{const[d,s]=n.useState({selected:i,cut:[],copied:[]}),c=n.useCallback((n,i)=>{if(!t)if(r)s(e=>Object.assign(Object.assign({},e),{selected:[i]}));else if(n.shiftKey&&!d.selected.includes(i)){const t=[i,...d.selected],r=o.toSubList(e,t).map(e=>e.id);s(e=>Object.assign(Object.assign({},e),{selected:r}))}else if(n.metaKey)if(d.selected.includes(i)){const e=d.selected.filter(e=>e!==i);s(t=>Object.assign(Object.assign({},t),{selected:e}))}else{const e=[i,...d.selected];s(t=>Object.assign(Object.assign({},t),{selected:e}))}else s(e=>Object.assign(Object.assign({},e),{selected:[i]}))},[e,d,t,r]);return{selection:d,handleClick:c,setSelection:s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useKeyboard=void 0;const n=r(1),o=r(0);t.useKeyboard=(e,t,r,i,d,s,c)=>{const a=n.useRef(0),l=o.toList(e),u=(e,n)=>{const{selected:o}=t;if(o.length){const t=l.findIndex(e=>e.id===o[0]),i=l[t+n];i&&(e.shiftKey?(a.current>0&&-1===n||a.current<0&&1===n?r(e=>Object.assign(Object.assign({},e),{selected:o.slice(1)})):r(e=>Object.assign(Object.assign({},e),{selected:[i.id,...o]})),a.current+=n):(a.current=0,r(e=>Object.assign(Object.assign({},e),{selected:[i.id]}))))}},f=()=>{r(e=>Object.assign(Object.assign({},e),{copied:[],cut:[]}))},p=e=>{if(document.activeElement===document.body)switch(e.key){case"ArrowDown":u(e,1);break;case"ArrowUp":u(e,-1);break;case"x":(e=>{s||e.metaKey&&t.selected.length&&(e.preventDefault(),r(e=>Object.assign(Object.assign({},e),{copied:[],cut:t.selected.slice()})))})(e);break;case"c":(e=>{c||e.metaKey&&t.selected.length&&(e.preventDefault(),r(e=>Object.assign(Object.assign({},e),{cut:[],copied:t.selected.slice()})))})(e);break;case"v":(e=>{(e.metaKey&&t.cut.length||t.copied.length)&&(i(),f())})(e);break;case"Escape":f();break;case" ":(()=>{if(t.selected.length){const e=l.find(e=>e.id===t.selected[0]);e&&d(e)}})()}};n.useEffect(()=>(window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}))}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseToggle=void 0;const o=n(r(1)),i=r(2);t.CollapseToggle=e=>{const{children:t,node:r}=e,n=!r.expanded,{handleToggleCollapse:d}=i.useTree();if(!d)throw Error("It looks like you\'re trying to use CollapseToggle outside of the <Tree/> scope");return o.default.createElement("div",{"data-rt-collapse-toggle":!0,"data-rt-collapsed":n,onClick:()=>d(r),tabIndex:0,role:"button"},t)}}])}));\n\n//# sourceURL=webpack:///../react-tree/dist/index.js?')},"./src/Index.tsx":function(module,exports,__webpack_require__){"use strict";eval('\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, "default", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o["default"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nconst react_1 = __importStar(__webpack_require__(/*! react */ "react"));\n\nconst react_dom_1 = __webpack_require__(/*! react-dom */ "react-dom");\n\nconst react_tree_1 = __webpack_require__(/*! @mpkelly/react-tree */ "../react-tree/dist/index.js"); // THE DATA\n\n\nvar Type;\n\n(function (Type) {\n  Type[Type["File"] = 0] = "File";\n  Type[Type["Folder"] = 1] = "Folder";\n})(Type || (Type = {}));\n\nconst FileSystemSchema = {\n  rules: {\n    [Type.Folder]: [Type.Folder, Type.File],\n    //empty array = accepts nothing\n    [Type.File]: []\n  }\n};\nlet id = 0;\nconst flatNodes = [{\n  id: id++,\n  expanded: true,\n  type: Type.Folder,\n  dragDisabled: true,\n  //FlatNode supports any additional properties you need\n  name: "Folder one"\n}, {\n  id: id++,\n  type: Type.File,\n  parentId: 0,\n  name: "File one"\n}, {\n  id: id++,\n  type: Type.File,\n  parentId: 0,\n  name: "File two"\n}, {\n  id: id++,\n  type: Type.File,\n  parentId: 0,\n  name: "File three"\n}, {\n  id: id++,\n  type: Type.File,\n  parentId: 0,\n  name: "File five"\n}, {\n  id: id++,\n  expanded: true,\n  parentId: 0,\n  type: Type.Folder,\n  name: "Folder two"\n}, {\n  id: id++,\n  expanded: true,\n  parentId: 0,\n  type: Type.Folder,\n  name: "Folder three"\n}]; // THE UI\n\nconst ArrowRightIcon = props => react_1.default.createElement("svg", Object.assign({\n  xmlns: "http://www.w3.org/2000/svg",\n  width: "24",\n  height: "24",\n  viewBox: "0 0 24 24",\n  "data-arrow": true\n}, props), react_1.default.createElement("path", {\n  d: "M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z",\n  fill: "currentColor"\n}));\n\nconst FolderIcon = () => react_1.default.createElement("svg", {\n  xmlns: "http://www.w3.org/2000/svg",\n  width: "24",\n  height: "24",\n  viewBox: "0 0 24 24",\n  "data-folder": true\n}, react_1.default.createElement("path", {\n  d: "M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z",\n  fill: "currentColor"\n}));\n\nconst FileIcon = () => react_1.default.createElement("svg", {\n  xmlns: "http://www.w3.org/2000/svg",\n  width: "24",\n  height: "24",\n  viewBox: "0 0 24 24",\n  "data-file": true\n}, react_1.default.createElement("path", {\n  d: "M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z",\n  fill: "currentColor"\n}));\n\nconst TreeElement = props => {\n  const {\n    node,\n    icon,\n    depth\n  } = props;\n  let arrow = null;\n\n  if (node.type === Type.Folder) {\n    arrow = react_1.default.createElement(react_tree_1.CollapseToggle, {\n      node: node\n    }, react_1.default.createElement(ArrowRightIcon, null));\n  }\n\n  return react_1.default.createElement("div", {\n    "data-tree-element": true,\n    style: {\n      paddingLeft: depth * 16\n    }\n  }, arrow, " ", icon, " ", react_1.default.createElement("span", {\n    "data-element-name": true\n  }, node.name));\n}; // THE STYLE - see index.html\n\n\nconst App = () => {\n  const [nodes, setNodes] = react_1.useState(flatNodes); //Only two things can change: \'parentId\' and \'expanded\'\n\n  const handleChange = react_1.useCallback((changed, property, value) => {\n    const next = nodes.slice();\n    changed.forEach(changed => {\n      const node = next.find(node => node.id == changed.id);\n      const nextNode = Object.assign(Object.assign({}, node), {\n        [property]: value\n      });\n      next.splice(next.indexOf(node), 1, nextNode);\n    });\n    setNodes(next);\n  }, [nodes]);\n\n  const handlePaste = (nodes, parentId) => {\n    const newNodes = nodes.map(node => Object.assign(Object.assign({}, node), {\n      parentId,\n      id: id++\n    }));\n    setNodes(nodes => nodes.concat(newNodes));\n  };\n\n  const renderElement = (node, depth) => {\n    switch (node.type) {\n      case Type.Folder:\n        return react_1.default.createElement(TreeElement, {\n          node: node,\n          depth: depth,\n          icon: react_1.default.createElement(FolderIcon, null)\n        });\n\n      case Type.File:\n        return react_1.default.createElement(TreeElement, {\n          node: node,\n          depth: depth,\n          icon: react_1.default.createElement(FileIcon, null)\n        });\n    }\n\n    throw Error("Node not handled: " + node.type);\n  };\n\n  return react_1.default.createElement(react_tree_1.Tree, {\n    nodes: nodes,\n    schema: FileSystemSchema,\n    renderElement: renderElement,\n    sortFunction: react_tree_1.createAlphaNumericSort("name"),\n    onChange: handleChange,\n    onPaste: handlePaste\n  });\n};\n\nreact_dom_1.render(react_1.default.createElement(App, null), document.getElementById("app"));\n\n//# sourceURL=webpack:///./src/Index.tsx?')},react:function(module,exports){eval("module.exports = React;\n\n//# sourceURL=webpack:///external_%22React%22?")},"react-dom":function(module,exports){eval("module.exports = ReactDOM;\n\n//# sourceURL=webpack:///external_%22ReactDOM%22?")}});